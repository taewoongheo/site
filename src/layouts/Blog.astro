---
import Base from "@/layouts/Base.astro";
import { formatPostDate } from "@/lib/time";
import { baseURL } from "@/lib/url";

const {
  post: {
    id,
    data: { title, pubDate, description, tag },
  },
} = Astro.props;

const formattedDate = formatPostDate(pubDate);
---

<Base title={title} description={description} isArticle={true}>
  <div class="w-full flex flex-col gap-10">
    <div class="flex flex-col gap-4">
      <h1 transition:name={`${title}-${id}`} class="text-4xl font-bold">
        {title}
      </h1>
      <div transition:name={`${description}-${id}`} class="prose">
        {description}
      </div>
      <div class="flex flex-row justify-between items-center">
        <p transition:name={`${formattedDate}-${id}`}>{formattedDate}</p>
        <a
          transition:name={`${tag}-${id}`}
          class="animate-underline"
          href={`${baseURL}/blog/tags/${tag}`}
        >
          #{tag}
        </a>
      </div>
      <div class="w-full border-2 border-t-0 border-dashed border-gray-900">
      </div>
    </div>
    <slot />
  </div>
</Base>
